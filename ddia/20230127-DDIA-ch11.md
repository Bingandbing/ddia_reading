- Name:    Li Binfeng
- Topic:   流处理系统
- Time：   2023-01-27
# Context
上一章讲到的批处理系统假定输入是有界的，即对于一批作业来说如果需要得到最后的输出则需要遍历所有的输入。而对于需要实时反馈的系统来说这样的处理方式不符合需求。所以流的定义为随着时间的推移而持续可用的数据。流处理则是一种无界的、持续增量处理的方式。
# Definition
流的定义为随着时间的推移而持续可用的数据。流处理则是一种无界的、持续增量处理的方式。其核心在于实时  

# 用UNIX工具进行批处理（单机）
主要介绍如何用UNIX自带的工具进行批处理，主要是管道，awk，sort。uniq等工具。后续会扩展到UNIX设计哲学，主要讲的是
- 每个程序做好一件事情
- 定义标准的输入和输出流，其中介绍了以stdio为基础的计语ascii码的文件输入输出流
- 今早设计和构建系统，及时重构，这个概念也可以用在现在的工程上面
- 优先使用工具来减轻编程任务

stdio可以定义输入输出流程，对于unix一台机器的情况下对一个批处理有标准的输入输出即可。

# MapReduce与分布式文件系统（分布式）
这边主要扩展上述用单机处理的场景，在一台机子的情况下可以用unix里面的工具，而横向扩展到分布式场景下则需要一些别的手段。这边MapReduce和上述UNIX处理工具的区别在于：  
UNIX批处理工具：一个输入流  一个输出流  
MapReduce作业：一个或者多个输出流  一个或多个输出流  
分布式批处理框架需要解决的两个主要问题为：分区和容错

## MapReduce作业执行

## MapReduce分布式执行

## MapReduce工作流

## Reduce段的join与分组
讨论了几种join的场景与group by的场景

# 批处理输出

# 对比hadoop和分布式数据库  

# 超越MapReduce
MapReduce仅仅只是一个学习工具，用来熟悉场景。这边介绍了MapReduce的一些问题并提出对应的解决措施  
有一些改进的方式：例如中间过程实体化，即产生物化视图  

## 数据流引擎
为了解决MapReduce的这些问题（指的是哪些？），将运算符单独定义出来，这边有点类似与执行计划里面的算子。  

## 数据流引擎带来的好处：容错变强了

# 图与迭代处理（扩展话题）
## 图处理下的容错和并行执行讨论
在批处理环境中查看图的方式更倾向于机器学习